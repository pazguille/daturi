!function(a){"use strict";function f(a){if(void 0===a)throw new Error('"Upfile(el)": It must receive an element.');this._initialize(a)}var b=a,c=b.document,d=void 0!==b.addEventListener?"addEventListener":"attachEvent",e="addEventListener"!==d?"onchange":"change";f.prototype._initialize=function(a){var c=this;return this.el=a,this.container=this.el.parentNode,this.labelNode=this.container.children[0],c.labelNode.style.lineHeight=this.container.clientHeight+"px",this._renderList(),this.el[d](e,function(){c._updateList(this.files);var a=c.listNode.getBoundingClientRect(),d=a.bottom-a.top,e=d>b.parseInt(c.labelNode.style.lineHeight,10)?d:c.container.clientHeight;c.labelNode.style.height=c.labelNode.style.lineHeight=e+"px"}),this.el.upfile=this,this},f.prototype._updateList=function(a){var b=a.length,c=0;if(this.listNode.innerHTML="",0!==b)for(-1===this.labelNode.className.search(/\s?upfile-label-hidden/)&&(this.labelNode.className+=" upfile-label-hidden",this.listNode.className=this.listNode.className.replace(/\s?upfile-hide/,"")),c;b>c;c+=1)this.listNode.appendChild(this._renderFile(a[c].name));else this.listNode.className+=" upfile-hide",this.labelNode.className=this.labelNode.className.replace(/\s?upfile-label-hidden/,"");return this},f.prototype._renderList=function(){return this.listNode=c.createElement("ol"),this.listNode.className="upfile-list upfile-hide",this.container.appendChild(this.listNode),this},f.prototype._renderFile=function(a){var b=c.createElement("li");return b.innerHTML=a,b},f.prototype.enable=function(){return this.el.removeAttribute("disabled"),this.labelNode.className=this.labelNode.className.replace(/\s?upfile-label-disabled/,""),this},f.prototype.disable=function(){return this.el.setAttribute("disabled","disabled"),this.labelNode.className+=" upfile-label-disabled",this},"function"==typeof a.define&&void 0!==a.define.amd?a.define("Upfile",[],function(){return f}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=f:a.Upfile=f}(this);
